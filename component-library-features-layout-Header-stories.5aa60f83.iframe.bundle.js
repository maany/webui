"use strict";(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[7520],{"./src/component-library/features/layout/Header.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Failed:()=>Failed,Loading:()=>Loading,MultipleAccounts:()=>MultipleAccounts,SingleAccount:()=>SingleAccount,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Header_stories});var utils=__webpack_require__("./src/component-library/utils.ts"),dist=__webpack_require__("./node_modules/next-themes/dist/index.mjs"),index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),navigation=__webpack_require__("./node_modules/next/navigation.js"),input=__webpack_require__("./src/component-library/atoms/form/input.tsx"),__jsx=react.createElement,didLocation={name:"DIDs",parameter:"Pattern",getHref:function getHref(query){return 0===query.length?"/did/list":"/did/list?pattern=".concat(query,"&autoSearch=true")}},rseLocation={name:"RSEs",parameter:"Expression",getHref:function getHref(query){return 0===query.length?"/rse/list":"/rse/list?expression=".concat(query,"&autoSearch=true")}},ruleLocation={name:"Rules",parameter:"ID",getHref:function getHref(query){return 0===query.length?"/rule/list":"/rule/page/".concat(query)}},createDIDLocation=function createDIDLocation(type,typeName){return{name:"DIDs",parameter:"Search ".concat(typeName),getHref:function getHref(query){return 0===query.length?"/did/list":"/did/list?pattern=".concat(query,"&type=").concat(type,"&autoSearch=true")}}},LocationLink=function LocationLink(props){return __jsx("div",{className:(0,utils.cn)("w-full py-1 px-3 hover:cursor-pointer",props.isHighlighted?"md:bg-brand-500 md:bg-opacity-25 md:hover:bg-opacity-40 md:text-neutral-900 md:dark:text-neutral-100 md:font-normal text-brand-500 font-bold":"md:hover:bg-neutral-200 md:dark:bg-neutral-800 md:hover:dark:bg-neutral-600 hover:text-brand-500 md:hover:text-neutral-900 md:hover:dark:text-neutral-100"),onMouseDown:props.onMouseDown},props.children)};LocationLink.displayName="LocationLink";var SearchDropdown=(0,react.forwardRef)((function SearchDropdown(props,ref){return __jsx("div",{className:(0,utils.cn)("md:w-[36rem] w-full flex flex-col md:text-left text-center","md:absolute relative md:mt-2 mt-4","md:rounded-md md:border md:border-neutral-900 md:dark:border-neutral-100 md:border-opacity-10 md:dark:border-opacity-10","md:bg-neutral-100 md:dark:bg-neutral-800","z-[100]")},__jsx("nav",{className:"w-full h-full flex flex-col items-start"},props.searchLocations.map((function(location,index){return __jsx(LocationLink,{key:location.name,onMouseDown:function onMouseDown(){return props.proceedTo(location)},isHighlighted:props.highlightedIndex===index},__jsx("span",{className:"flex items-center min-w-0"},__jsx("span",{className:"flex-shrink-0"},location.parameter)," ",__jsx("i",{className:"truncate mx-1"},props.searchQuery)," ",__jsx("span",{className:"flex-shrink-0"},"in ",location.name)))}))))})),Searchbar=function Searchbar(){var _useState=(0,react.useState)(!1),isFocused=_useState[0],setIsFocused=_useState[1],_useState2=(0,react.useState)(""),searchQuery=_useState2[0],setSearchQuery=_useState2[1],_useState3=(0,react.useState)([didLocation,rseLocation,ruleLocation]),searchLocations=_useState3[0],setSearchLocations=_useState3[1],_useState4=(0,react.useState)(-1),highlightedIndex=_useState4[0],setHighlightedIndex=_useState4[1],searchDropdownRef=(0,react.useRef)(null),searchInputRef=(0,react.useRef)(null),handleClickOutside=function handleClickOutside(event){var _searchDropdownRef$cu,_searchInputRef$curre;null!==(_searchDropdownRef$cu=searchDropdownRef.current)&&void 0!==_searchDropdownRef$cu&&_searchDropdownRef$cu.contains(event.target)||null!==(_searchInputRef$curre=searchInputRef.current)&&void 0!==_searchInputRef$curre&&_searchInputRef$curre.contains(event.target)||setIsFocused(!1)};(0,react.useEffect)((function(){document.addEventListener("mousedown",handleClickOutside)}),[searchDropdownRef]);var proceedTo=function proceedTo(location){window.location.href=location.getHref(searchQuery)};return __jsx("span",{className:"relative"},__jsx(input.I,{placeholder:"Search",onFocus:function onFocus(){return setIsFocused(!0)},onBlur:function onBlur(){return setIsFocused(!1)},onChange:function handleInputChange(e){var query=e.target.value;0===query.length?setSearchLocations([didLocation,rseLocation,ruleLocation]):query.includes(":")?setSearchLocations([createDIDLocation("dataset","Dataset"),createDIDLocation("file","File"),createDIDLocation("container","Container")]):/[=|&\\]/.test(query)?setSearchLocations([rseLocation]):32===query.length&&/^[a-zA-Z0-9]+$/.test(query)?setSearchLocations([ruleLocation,rseLocation,didLocation]):setSearchLocations([rseLocation,didLocation]),setHighlightedIndex(0),setSearchQuery(query)},onKeyDown:function handleKeyDown(e){"ArrowDown"===e.key?setHighlightedIndex((function(prevIndex){return prevIndex<searchLocations.length-1?prevIndex+1:prevIndex})):"ArrowUp"===e.key?setHighlightedIndex((function(prevIndex){return prevIndex>0?prevIndex-1:0})):"Enter"===e.key&&highlightedIndex>=0&&proceedTo(searchLocations[highlightedIndex])},ref:searchInputRef,className:"h-9"}),isFocused&&__jsx(SearchDropdown,{searchQuery,ref:searchDropdownRef,searchLocations,highlightedIndex,proceedTo}))};Searchbar.displayName="Searchbar";var next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),tw_merge=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),hi2_index_esm=__webpack_require__("./node_modules/react-icons/hi2/index.esm.js"),next_auth_react=__webpack_require__("./node_modules/next-auth/react.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),AccountDropdown_jsx=react.createElement,AccountList=function AccountList(props){var update=(0,next_auth_react.kP)().update,router=(0,navigation.useRouter)(),handleSwitchAccount=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(account){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,update({account});case 3:router.refresh(),_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(0),console.error("Failed to switch account:",_context.t0);case 9:case"end":return _context.stop()}}),_callee,null,[[0,6]])})));return function handleSwitchAccount(_x){return _ref.apply(this,arguments)}}();return AccountDropdown_jsx("div",{className:"flex flex-col"},props.accountList.map((function(account){return AccountDropdown_jsx("button",{className:(0,utils.cn)("text-neutral-600 hover:bg-neutral-200 hover:cursor-pointer","dark:text-neutral-300 dark:hover:bg-neutral-600","flex items-center justify-between py-2 px-1 space-x-4","text-right"),key:"profile-"+account,onClick:function onClick(){return handleSwitchAccount(account)}},AccountDropdown_jsx(index_esm.ZCd,{className:"text-2xl text-neutral-900 dark:text-neutral-100 shrink-0"}),AccountDropdown_jsx("span",null,AccountDropdown_jsx("span",null,"Switch to "),AccountDropdown_jsx("b",{className:"text-neutral-800 dark:text-neutral-100"},account)))})))};AccountList.displayName="AccountList";var SignOutOfAllButton=function SignOutOfAllButton(){var handleSignOut=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,(0,next_auth_react.w7)({callbackUrl:"/auth/login"});case 3:_context2.next=8;break;case 5:_context2.prev=5,_context2.t0=_context2.catch(0),console.error("Failed to sign out:",_context2.t0);case 8:case"end":return _context2.stop()}}),_callee2,null,[[0,5]])})));return function handleSignOut(){return _ref2.apply(this,arguments)}}();return AccountDropdown_jsx("div",{className:(0,utils.cn)("text-neutral-800 hover:bg-base-error-500 hover:bg-opacity-40 hover:cursor-pointer","dark:text-neutral-100","flex items-center justify-between py-2 px-1 space-x-4","text-right"),onClick:handleSignOut},AccountDropdown_jsx("span",null,"Sign ",AccountDropdown_jsx("b",null,"out")," of all accounts"),AccountDropdown_jsx(index_esm.ApJ,{className:"dark:text-neutral-100 text-2xl text-neutral-900 shrink-0"}))};SignOutOfAllButton.displayName="SignOutOfAllButton";var SignIntoButton=function SignIntoButton(){return AccountDropdown_jsx(link_default(),{className:(0,utils.cn)("text-neutral-800 hover:bg-base-success-500 hover:bg-opacity-40 hover:cursor-pointer","dark:text-neutral-100","flex items-center justify-between py-2 px-1 space-x-4","text-right"),href:"/auth/login",prefetch:!1},AccountDropdown_jsx("span",null,"Sign ",AccountDropdown_jsx("b",null,"in to")," another account"),AccountDropdown_jsx(index_esm.VcF,{className:"dark:text-neutral-100 text-2xl text-neutral-900 shrink-0"}))};SignIntoButton.displayName="SignIntoButton";var AccountDropdown=function AccountDropdown(props){var hasAccountChoice=1!==props.accountsPossible.length,update=(0,next_auth_react.kP)().update,router=(0,navigation.useRouter)(),handleSingleSignOut=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_context3.prev=0,1!==props.accountsPossible.length){_context3.next=5;break}return _context3.next=4,(0,next_auth_react.w7)({callbackUrl:"/auth/login"});case 4:return _context3.abrupt("return");case 5:return _context3.next=7,update({removeAccount:props.accountActive});case 7:router.refresh(),_context3.next=13;break;case 10:_context3.prev=10,_context3.t0=_context3.catch(0),console.error("Failed to sign out:",_context3.t0);case 13:case"end":return _context3.stop()}}),_callee3,null,[[0,10]])})));return function handleSingleSignOut(){return _ref3.apply(this,arguments)}}();return AccountDropdown_jsx("div",{className:(0,utils.cn)("divide-y divide-neutral-300 dark:divide-neutral-700","w-64 sm:w-fit p-2","absolute top-[52px] right-2","rounded-md border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10","bg-neutral-100 dark:bg-neutral-800","z-[100]"),onMouseEnter:function onMouseEnter(e){return e.preventDefault()},ref:props.menuRef},AccountDropdown_jsx("div",{className:(0,tw_merge.m)("text-neutral-600 hover:cursor-pointer","dark:text-neutral-300","flex justify-between items-center py-4 px-1 space-x-4","text-right")},AccountDropdown_jsx("span",{className:"text-xl"},AccountDropdown_jsx("span",null,"Hello, "),AccountDropdown_jsx("b",{className:"text-neutral-900 dark:text-neutral-100"},props.accountActive),"!"),AccountDropdown_jsx("button",{className:(0,utils.cn)("bg-neutral-200 dark:bg-neutral-700 hover:bg-base-error-500 hover:bg-opacity-40 dark:hover:bg-base-error-500 dark:hover:bg-opacity-40","p-1 rounded-md"),onClick:handleSingleSignOut,title:"Sign out of this account"},AccountDropdown_jsx(index_esm.ApJ,{className:"text-2xl text-neutral-900 dark:text-neutral-100 shrink-0"}))),hasAccountChoice&&AccountDropdown_jsx(AccountList,{accountList:props.accountsPossible.filter((function(account){return account!==props.accountActive}))}),AccountDropdown_jsx(SignIntoButton,null),hasAccountChoice&&AccountDropdown_jsx(SignOutOfAllButton,null))};AccountDropdown.displayName="AccountDropdown";var AccountButton=function AccountButton(_ref4){var _siteHeader$activeAcc,_siteHeader$activeAcc2,_siteHeader$available,_siteHeader$available2,siteHeader=_ref4.siteHeader,_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),isAccountOpen=_React$useState2[0],setIsAccountOpen=_React$useState2[1],buttonRef=(0,react.useRef)(null),menuRef=(0,react.useRef)(null),handleClickOutside=function handleClickOutside(event){var _menuRef$current,_buttonRef$current;null!==(_menuRef$current=menuRef.current)&&void 0!==_menuRef$current&&_menuRef$current.contains(event.target)||null!==(_buttonRef$current=buttonRef.current)&&void 0!==_buttonRef$current&&_buttonRef$current.contains(event.target)||setIsAccountOpen(!1)};return(0,react.useEffect)((function(){document.addEventListener("mousedown",handleClickOutside)}),[menuRef,buttonRef]),AccountDropdown_jsx(react.Fragment,null,AccountDropdown_jsx("button",{className:"rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 items-center",onClick:function onClick(){return setIsAccountOpen(!isAccountOpen)},ref:buttonRef},AccountDropdown_jsx(hi2_index_esm.mhe,{className:"text-2xl"})),isAccountOpen&&AccountDropdown_jsx(AccountDropdown,{accountActive:null!==(_siteHeader$activeAcc=null===(_siteHeader$activeAcc2=siteHeader.activeAccount)||void 0===_siteHeader$activeAcc2?void 0:_siteHeader$activeAcc2.rucioAccount)&&void 0!==_siteHeader$activeAcc?_siteHeader$activeAcc:"",accountsPossible:null!==(_siteHeader$available=null===(_siteHeader$available2=siteHeader.availableAccounts)||void 0===_siteHeader$available2?void 0:_siteHeader$available2.map((function(account){return account.rucioAccount})))&&void 0!==_siteHeader$available?_siteHeader$available:[],menuRef}))};try{AccountDropdown.displayName="AccountDropdown",AccountDropdown.__docgenInfo={description:"",displayName:"AccountDropdown",props:{menuRef:{defaultValue:null,description:"",name:"menuRef",required:!0,type:{name:"RefObject<HTMLDivElement | null>"}},accountActive:{defaultValue:null,description:"",name:"accountActive",required:!0,type:{name:"string"}},accountsPossible:{defaultValue:null,description:"",name:"accountsPossible",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/layout/AccountDropdown.tsx#AccountDropdown"]={docgenInfo:AccountDropdown.__docgenInfo,name:"AccountDropdown",path:"src/component-library/features/layout/AccountDropdown.tsx#AccountDropdown"})}catch(__react_docgen_typescript_loader_error){}try{AccountButton.displayName="AccountButton",AccountButton.__docgenInfo={description:"",displayName:"AccountButton",props:{siteHeader:{defaultValue:null,description:"",name:"siteHeader",required:!0,type:{name:"SiteHeaderViewModel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/layout/AccountDropdown.tsx#AccountButton"]={docgenInfo:AccountButton.__docgenInfo,name:"AccountButton",path:"src/component-library/features/layout/AccountDropdown.tsx#AccountButton"})}catch(__react_docgen_typescript_loader_error){}var LoadingSpinner=__webpack_require__("./src/component-library/atoms/loading/LoadingSpinner.tsx"),WarningField=__webpack_require__("./src/component-library/features/fields/WarningField.tsx"),Header_jsx=react.createElement,MenuItem=function MenuItem(_ref){var _item$path,item=_ref.item,pathname=_ref.pathname,onClick=_ref.onClick,classes="hover:text-brand-500 ".concat(item.path===pathname&&"text-brand-500 font-semibold");return Header_jsx(link_default(),{href:null!==(_item$path=item.path)&&void 0!==_item$path?_item$path:"/",className:classes,onClick},item.title)};MenuItem.displayName="MenuItem";var DesktopNavigationBar=function DesktopNavigationBar(_ref2){var menuItems=_ref2.menuItems,pathname=(0,navigation.usePathname)();return Header_jsx("div",{className:"hidden nav:flex items-center space-x-8"},menuItems.map((function(item){var key=item.title.toLowerCase(),classes="hover:text-brand-500 peer ".concat(item.path===pathname&&"text-brand-500 font-semibold");return item.path?Header_jsx(MenuItem,{key:item.path,item,pathname}):Header_jsx("div",{key,className:"relative group"},Header_jsx("div",{className:classes},Header_jsx("span",null,item.title),Header_jsx(index_esm.kWQ,{className:"inline pl-1 h-5 w-5"})),item.children&&function getItemChildren(children){return Header_jsx("div",{className:(0,utils.cn)("absolute left-0 w-max","hidden group-hover:block","bg-neutral-100 dark:bg-neutral-800","rounded-md border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10")},Header_jsx("div",{className:"flex flex-col space-y-2 px-4 py-2"},children.map((function(child){return Header_jsx(MenuItem,{key:child.path,item:child,pathname})}))))}(item.children))})))};DesktopNavigationBar.displayName="DesktopNavigationBar";var MobileNavigationBar=function MobileNavigationBar(_ref3){var menuItems=_ref3.menuItems,pathname=(0,navigation.usePathname)(),_useState=(0,react.useState)(!1),isMenuOpen=_useState[0],setIsMenuOpen=_useState[1];return Header_jsx("div",{className:"flex nav:hidden"},Header_jsx("button",{className:"rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 items-center",onClick:function onClick(){return setIsMenuOpen((function(prevState){return!prevState}))}},Header_jsx(index_esm.r0I,{className:"h-5 w-5"})),isMenuOpen&&Header_jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50"},Header_jsx("div",{className:"fixed inset-0 bg-white dark:bg-neutral-900 p-6 overflow-y-auto flex flex-col space-y-6"},Header_jsx("button",{onClick:function onClick(){return setIsMenuOpen(!1)},className:"self-end p-2 focus:outline-none"},Header_jsx(index_esm.apv,{className:"h-5 w-5"})),Header_jsx("div",{className:"md:hidden block"},Header_jsx(Searchbar,null)),Header_jsx("nav",{className:"flex flex-col items-center justify-center space-y-4"},menuItems.map((function(item){return item.path?Header_jsx(MenuItem,{key:item.path,item,pathname,onClick:function onClick(){return setIsMenuOpen(!1)}}):null===(_item$children=item.children)||void 0===_item$children?void 0:_item$children.map((function(child){return Header_jsx(MenuItem,{key:child.path,item:child,pathname,onClick:function onClick(){return setIsMenuOpen(!1)}})}));var _item$children}))))))};MobileNavigationBar.displayName="MobileNavigationBar";var ThemeSwitchButton=function ThemeSwitchButton(){var _useTheme=(0,dist.F)(),resolvedTheme=_useTheme.resolvedTheme,setTheme=_useTheme.setTheme,_useState2=(0,react.useState)(!1),isDarkMode=_useState2[0],setIsDarkMode=_useState2[1],buttonRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){resolvedTheme&&buttonRef.current&&(buttonRef.current.className=buttonRef.current.className.replace(" hidden"," flex"),setIsDarkMode("dark"===resolvedTheme))}),[resolvedTheme]),Header_jsx("div",{className:"rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 items-center hidden",onClick:function updateTheme(){setTheme("dark"===resolvedTheme?"light":"dark")},ref:buttonRef},Header_jsx(isDarkMode?index_esm.Lac:index_esm.q4P,{className:"h-6 w-6"}))};ThemeSwitchButton.displayName="ThemeSwitchButton";var Header=function Header(_ref4){var siteHeader=_ref4.siteHeader,siteHeaderError=_ref4.siteHeaderError,isSiteHeaderFetching=_ref4.isSiteHeaderFetching,menuItems=[{title:"Dashboard",path:"/dashboard"},{title:"DIDs",path:"/did/list"},{title:"RSEs",path:"/rse/list"},{title:"Subscriptions",path:"/subscription/list"},{title:"Rules",children:[{title:"List Rules",path:"/rule/list"},{title:"Create a rule",path:"/rule/create"}]}],logoPath="dark"===(0,dist.F)().resolvedTheme?"/logo_dark.svg":"/logo_light.svg";return Header_jsx("header",{className:(0,utils.cn)("h-14 z-[100]","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10","p-2 flex flex-row justify-between items-center","text-neutral-900 dark:text-neutral-100")},function getContent(){return isSiteHeaderFetching?Header_jsx(LoadingSpinner.T,null):siteHeaderError||!siteHeader?Header_jsx(WarningField.K,null,Header_jsx("span",null,"Error retrieving site header")):Header_jsx(react.Fragment,null,Header_jsx("div",{className:"flex items-center"},Header_jsx("a",{className:"w-12 h-full stroke-white fill-white",href:"https://rucio.cern.ch/"},Header_jsx(next_image.Z,{src:logoPath,alt:"Rucio Logo",width:36,height:36})),Header_jsx("a",{className:"w-12 h-full",href:siteHeader.projectUrl},Header_jsx(next_image.Z,{src:"/experiment-logo.png",alt:"Experiment Logo",width:36,height:36})),Header_jsx("div",{className:"pl-1 md:block hidden"},Header_jsx(Searchbar,null))),Header_jsx("div",null,Header_jsx(DesktopNavigationBar,{menuItems})),Header_jsx("div",{className:"flex h-full"},Header_jsx(ThemeSwitchButton,null),Header_jsx(AccountButton,{siteHeader}),Header_jsx(MobileNavigationBar,{menuItems})))}())};Header.displayName="Header";try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{siteHeader:{defaultValue:null,description:"",name:"siteHeader",required:!1,type:{name:"SiteHeaderViewModel"}},siteHeaderError:{defaultValue:null,description:"",name:"siteHeaderError",required:!0,type:{name:"unknown"}},isSiteHeaderFetching:{defaultValue:null,description:"",name:"isSiteHeaderFetching",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/layout/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/component-library/features/layout/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}var auth_models=__webpack_require__("./src/lib/core/entity/auth-models.ts");const Header_stories={title:"Components/Header",component:Header,parameters:{layout:"fullscreen"}};var getMockUser=function getMockUser(accountName){return{rucioIdentity:"mock-identity",rucioAccount:accountName,rucioVO:"mock-vo",role:auth_models.uU.USER,country:"Switzerland"}},SingleAccount={args:{siteHeader:{status:"success",activeAccount:getMockUser("mock-account"),availableAccounts:[getMockUser("mock-account")],homeUrl:"https://rucio.cern.ch",projectUrl:"https://home.cern"},siteHeaderError:null,isSiteHeaderFetching:!1}},MultipleAccounts={args:{siteHeader:{status:"success",activeAccount:getMockUser("mock-account"),availableAccounts:[getMockUser("mock-account"),getMockUser("mock-account-2"),getMockUser("mock-account-3")],homeUrl:"https://rucio.cern.ch",projectUrl:"https://home.cern"},siteHeaderError:null,isSiteHeaderFetching:!1}},Loading={args:{siteHeader:void 0,siteHeaderError:null,isSiteHeaderFetching:!0}},Failed={args:{siteHeader:void 0,siteHeaderError:new Error("Failed to fetch header data"),isSiteHeaderFetching:!1}};SingleAccount.parameters={...SingleAccount.parameters,docs:{...SingleAccount.parameters?.docs,source:{originalSource:"{\n  args: {\n    siteHeader: {\n      status: 'success',\n      activeAccount: getMockUser('mock-account'),\n      availableAccounts: [getMockUser('mock-account')],\n      homeUrl: 'https://rucio.cern.ch',\n      projectUrl: 'https://home.cern'\n    },\n    siteHeaderError: null,\n    isSiteHeaderFetching: false\n  }\n}",...SingleAccount.parameters?.docs?.source}}},MultipleAccounts.parameters={...MultipleAccounts.parameters,docs:{...MultipleAccounts.parameters?.docs,source:{originalSource:"{\n  args: {\n    siteHeader: {\n      status: 'success',\n      activeAccount: getMockUser('mock-account'),\n      availableAccounts: [getMockUser('mock-account'), getMockUser('mock-account-2'), getMockUser('mock-account-3')],\n      homeUrl: 'https://rucio.cern.ch',\n      projectUrl: 'https://home.cern'\n    },\n    siteHeaderError: null,\n    isSiteHeaderFetching: false\n  }\n}",...MultipleAccounts.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  args: {\n    siteHeader: undefined,\n    siteHeaderError: null,\n    isSiteHeaderFetching: true\n  }\n}",...Loading.parameters?.docs?.source}}},Failed.parameters={...Failed.parameters,docs:{...Failed.parameters?.docs,source:{originalSource:"{\n  args: {\n    siteHeader: undefined,\n    siteHeaderError: new Error('Failed to fetch header data'),\n    isSiteHeaderFetching: false\n  }\n}",...Failed.parameters?.docs?.source}}};const __namedExportsOrder=["SingleAccount","MultipleAccounts","Loading","Failed"]},"./src/component-library/atoms/form/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>Input,g:()=>Textarea});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/utils.ts"),_excluded=["className","type","onEnterKey","onKeyDown"],_excluded2=["className","onKeyDown"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,commonClasses=(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("flex w-full rounded-md","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10","rounded-md","bg-neutral-100 dark:bg-neutral-800","px-3 py-2","text-neutral-900 dark:text-neutral-100","placeholder:text-neutral-500","focus:ring-0 focus:shadow-brand","focus:outline-none focus:border-1 focus:border-brand-500","dark:focus:border-1 dark:focus:border-brand-500"),Input=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,type=_ref.type,onEnterKey=_ref.onEnterKey,onKeyDown=_ref.onKeyDown,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx("input",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({type,className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(commonClasses,"h-10",className),ref,onKeyDown:function handleKeyDown(event){"Enter"===event.key&&onEnterKey&&onEnterKey(event),onKeyDown&&onKeyDown(event)}},props))}));Input.displayName="Input";var Textarea=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref2,ref){var className=_ref2.className,props=(_ref2.onKeyDown,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref2,_excluded2));return __jsx("textarea",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("h-40",commonClasses,className),ref},props))}));Textarea.displayName="Textarea";try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{onEnterKey:{defaultValue:null,description:"",name:"onEnterKey",required:!1,type:{name:"((event: KeyboardEvent<HTMLInputElement>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/form/input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/component-library/atoms/form/input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/loading/LoadingSpinner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>LoadingSpinner});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/component-library/utils.ts"),__jsx=__webpack_require__("./node_modules/next/dist/compiled/react/index.js").createElement,LoadingSpinner=function LoadingSpinner(props){var _props$size,size=null!==(_props$size=props.size)&&void 0!==_props$size?_props$size:24;return __jsx("svg",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__.Z)({xmlns:"http://www.w3.org/2000/svg",width:size,height:size},props,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("animate-spin",props.className)}),__jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}))};LoadingSpinner.displayName="LoadingSpinner";try{LoadingSpinner.displayName="LoadingSpinner",LoadingSpinner.__docgenInfo={description:"",displayName:"LoadingSpinner",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/loading/LoadingSpinner.tsx#LoadingSpinner"]={docgenInfo:LoadingSpinner.__docgenInfo,name:"LoadingSpinner",path:"src/component-library/atoms/loading/LoadingSpinner.tsx#LoadingSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/misc/Field.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>Field});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/component-library/utils.ts"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Field=function Field(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),fieldClasses=(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex","rounded","px-3","text-neutral-900 dark:text-neutral-100 whitespace-nowrap","bg-neutral-200 dark:bg-neutral-700","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className);return __jsx("div",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:fieldClasses},props),children)};Field.displayName="Field";try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/Field.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"src/component-library/atoms/misc/Field.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/fields/WarningField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>WarningField});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),_component_library_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_hi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,WarningField=function WarningField(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__.g,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("bg-base-error-500 dark:bg-base-error-500 bg-opacity-60 dark:bg-opacity-60","items-center py-2 space-x-2","whitespace-normal",className)},props),__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_5__.fd$,{className:"h-6 w-6 flex-shrink-0"}),children)};WarningField.displayName="WarningField";try{WarningField.displayName="WarningField",WarningField.__docgenInfo={description:"",displayName:"WarningField",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/fields/WarningField.tsx#WarningField"]={docgenInfo:WarningField.__docgenInfo,name:"WarningField",path:"src/component-library/features/fields/WarningField.tsx#WarningField"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>sleep,cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs");function cn(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.m)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.W)(inputs))}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}},"./src/lib/core/entity/auth-models.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gr:()=>AuthType,in:()=>DefaultVO,uU:()=>Role});var AuthType=function(AuthType){return AuthType.x509="x509",AuthType.USERPASS="userpass",AuthType.OIDC="oidc",AuthType}({}),Role=function(Role){return Role.ADMIN="admin",Role.USER="user",Role}({}),DefaultVO={name:"Default",shortName:"def",logoUrl:"",oidcEnabled:!1,oidcProviders:[]}}}]);