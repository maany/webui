"use strict";(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[7028],{"./src/component-library/Pages/Layout/Layout.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Layout:()=>Layout_stories_Layout,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Layout_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),objectDestructuringEmpty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),index_esm=__webpack_require__("./node_modules/react-icons/hi2/index.esm.js"),hi_index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),tw_merge=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),Collapsible=__webpack_require__("./src/component-library/Helpers/Collapsible.tsx"),AccountDropdown=__webpack_require__("./src/component-library/Pages/Layout/AccountDropdown.tsx"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),__jsx=react.createElement,Layout=function Layout(props){var _useState=(0,react.useState)(!1),isSearching=_useState[0],setIsSearching=_useState[1],_useState2=(0,react.useState)(""),searchString=_useState2[0],setSearchString=_useState2[1],_useState3=(0,react.useState)(!1),isHamburgerOpen=_useState3[0],setIsHamburgerOpen=_useState3[1],_useState4=(0,react.useState)(!1),isProfileOpen=_useState4[0],setIsProfileOpen=_useState4[1],_useState5=(0,react.useState)(!1),isRulesDropDown=_useState5[0],setIsRulesDropDown=_useState5[1],_useState6=(0,react.useState)(!1),isMoreDropDown=_useState6[0],setIsMoreDropDown=_useState6[1],SearchDropdown=(0,react.forwardRef)((function SearchDropdown(props,ref){var _useState7=(0,react.useState)(!1),isMouseOver=_useState7[0],setIsMouseOver=_useState7[1],LinkElem=function LinkElem(props){return __jsx(link_default(),{href:props.href,className:(0,tw_merge.m)("w-full p-1 rounded-sm hover:cursor-pointer","hover:bg-neutral-200  text-text-800","hover:dark:bg-neutral-600 dark:bg-neutral-800 dark:text-text-100"),onMouseDown:function onMouseDown(e){e.preventDefault()}},props.children)};return __jsx("div",{className:(0,tw_merge.m)("w-[50rem] flex flex-col p-2","rounded-md border shadow-md",props.inputSelected||isMouseOver?"visible":"invisible","absolute mt-2","text-text-900 dark:text-text-100","bg-neutral-100 dark:bg-neutral-800","z-[100]"),onMouseEnter:function onMouseEnter(){setIsMouseOver(!0)},onMouseLeave:function onMouseLeave(){setIsMouseOver(!1)}},__jsx("nav",{className:"w-full h-full flex flex-col items-start"},__jsx(LinkElem,{href:"/dids"},"Search for ",__jsx("i",null,props.searchstring)," in ",__jsx("b",null,"DIDs")),__jsx(LinkElem,{href:"/rules"},"Search for ",__jsx("i",null,props.searchstring)," in ",__jsx("b",null,"Rules")),__jsx(LinkElem,{href:"/rses"},"Search for ",__jsx("i",null,props.searchstring)," in ",__jsx("b",null,"RSEs"))))})),HeaderLinks=function HeaderLinks(_ref){var _props$className,props=(0,esm_extends.Z)({},((0,objectDestructuringEmpty.Z)(_ref),_ref));return __jsx("a",(0,esm_extends.Z)({className:(0,tw_merge.m)("hover:text-text-400 font-bold text-l hover:cursor-pointer text-text-100",null!==(_props$className=props.className)&&void 0!==_props$className?_props$className:"")},props),props.children)},accountMenuRef=(0,react.useRef)(null),accountMenuButtonRef=(0,react.useRef)(null);(0,react.useEffect)((function(){document.addEventListener("mousedown",(function handleClickOutside(event){var _accountMenuRef$curre,_accountMenuButtonRef;null!==(_accountMenuRef$curre=accountMenuRef.current)&&void 0!==_accountMenuRef$curre&&_accountMenuRef$curre.contains(event.target)||null!==(_accountMenuButtonRef=accountMenuButtonRef.current)&&void 0!==_accountMenuButtonRef&&_accountMenuButtonRef.contains(event.target)||setIsProfileOpen(!1)}))}),[accountMenuRef]);var searchMenuRef=(0,react.useRef)(null),searchMenuInputRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){document.addEventListener("mousedown",(function handleClickOutside(event){var _searchMenuRef$curren,_searchMenuInputRef$c;null!==(_searchMenuRef$curren=searchMenuRef.current)&&void 0!==_searchMenuRef$curren&&_searchMenuRef$curren.contains(event.target)||null!==(_searchMenuInputRef$c=searchMenuInputRef.current)&&void 0!==_searchMenuInputRef$c&&_searchMenuInputRef$c.contains(event.target)||setIsSearching(!1)}))}),[searchMenuRef]),__jsx("div",{className:(0,tw_merge.m)("dark:bg-neutral-900 bg-neutral-100","h-full min-h-screen","flex flex-col")},__jsx("header",{className:(0,tw_merge.m)("w-full flex flex-col bg-neutral-800 space-y-2 p-2","md:h-16","z-[100]")},__jsx("nav",{className:"w-full h-full flex justify-between items-center"},__jsx("span",{className:"flex md:hidden"},__jsx("button",{className:"text-text-100",onClick:function onClick(){setIsHamburgerOpen(!isHamburgerOpen)}},__jsx(hi_index_esm.r0I,{className:"text-4xl"}))),__jsx("span",{className:"flex flex-row space-x-2"},__jsx("a",{className:"bg-neutral-100 w-12 h-12 rounded",href:props.LVM.rucioProjectLink},__jsx(next_image.Z,{src:"/logocropped.svg",alt:"Rucio Logo",width:48,height:48})),__jsx("a",{className:"bg-brand-500 w-12 h-12",href:props.LVM.experimentProjectLink})),__jsx("span",{className:"hidden md:visible md:flex space-x-12 items-center pl-2 pr-2"},__jsx("span",{className:"relative"},__jsx("input",{className:(0,tw_merge.m)("p-2 rounded-lg w-48 lg:w-96 bg-neutral-600 text-text-100","focus:bg-neutral-100 focus:text-text-900"),placeholder:"Search",onFocus:function onFocus(){return setIsSearching(!0)},onChange:function onChange(e){return setSearchString(e.target.value)},ref:searchMenuInputRef}),__jsx(SearchDropdown,{inputSelected:isSearching,searchstring:searchString,ref:searchMenuRef})),__jsx(HeaderLinks,{href:"/did/list",className:"w-full pt-2 pb-2 text-text-100 hover:text-brand-500 text-left"},"DIDs"),__jsx(HeaderLinks,{href:"/rse/list",className:"w-full pt-2  pb-2 text-text-100 hover:text-brand-500 text-center"},"RSEs"),__jsx("button",{className:"w-full pt-2 pb-2 text-text-100 hover:text-brand-500 text-center",onClick:function onClick(){setIsRulesDropDown(!isRulesDropDown),isMoreDropDown&&setIsMoreDropDown(!isMoreDropDown)}},"Rules"),__jsx("button",{className:"w-full pt-2 pb-2 text-text-100 hover:text-brand-500 text-center",onClick:function onClick(){setIsMoreDropDown(!isMoreDropDown),isRulesDropDown&&setIsRulesDropDown(!isRulesDropDown)}},"...")),__jsx("span",{className:"flex space-x-2 items-end relative pl-2 pr-2"},__jsx("button",{className:"text-text-100 hover:text-brand-500 flex items-center",onClick:function onClick(){return setIsProfileOpen(!isProfileOpen)},ref:accountMenuButtonRef},__jsx(index_esm.mhe,{className:"text-4xl"}),__jsx(hi_index_esm.kWQ,{className:"hidden md:inline"})),__jsx(AccountDropdown.d,{isProfileOpen,accountActive:props.LVM.accountActive,accountsPossible:props.LVM.accountsPossible,ref:accountMenuRef}))),__jsx(Collapsible.z,{showIf:isRulesDropDown,className:"bg-gray-800"},__jsx("nav",{className:"w-full md:flex flex-col md:visible hidden items-start space-y-2 divide-y divide-neutral-600 border-t border-neutral-600"},__jsx(HeaderLinks,{href:"/rule/create",className:"w-full pt-2 text-text-100 hover:text-brand-500  text-center"},"Create Rule"),__jsx(HeaderLinks,{href:"/rule/list",className:"w-full pt-2 pb-2  text-text-100  hover:text-brand-500 text-center"},"List Rules"))),__jsx(Collapsible.z,{showIf:isMoreDropDown,className:"bg-gray-800 w-full"},__jsx("nav",{className:"w-full md:flex flex-col md:visible hidden items-start space-y-2 divide-y divide-neutral-600 border-t border-neutral-600"},__jsx(HeaderLinks,{href:"/subscription/list",className:"w-full pt-2 pb-2  text-text-100 hover:text-brand-500 text-center"},"Subscription"))),__jsx(Collapsible.z,{showIf:isHamburgerOpen},__jsx("nav",{className:"w-full flex flex-col md:hidden items-start space-y-2 divide-y divide-neutral-600 border-t border-neutral-600 "},__jsx(HeaderLinks,{href:"/did/list",className:"w-full pt-2  text-text-100 hover:text-brand-500 text-left"},"List DIDs"),__jsx(HeaderLinks,{href:"/rse/list",className:"w-full pt-2  text-text-100 hover:text-brand-500 text-left"},"List RSEs"),__jsx("button",{className:"w-full pt-2 text-text-100 hover:text-brand-500 text-left",onClick:function onClick(){setIsRulesDropDown(!isRulesDropDown),isMoreDropDown&&setIsMoreDropDown(!isMoreDropDown)}},"Rules"),__jsx(Collapsible.z,{showIf:isRulesDropDown,className:"w-full"},__jsx("nav",{className:"w-full flex flex-col md:hidden items-start space-y-2 divide-y divide-neutral-600 border-t border-neutral-600 "},__jsx(HeaderLinks,{href:"/rule/create",className:"w-full pt-2 text-text-100 hover:text-brand-500 text-left"},"Create Rule"),__jsx(HeaderLinks,{href:"/rule/list",className:"w-full pt-2  text-text-100 hover:text-brand-500 text-left"},"List Rules"))),__jsx("button",{className:"w-full pt-1 pb-1 text-text-100 hover:text-brand-500 text-left",onClick:function onClick(){setIsMoreDropDown(!isMoreDropDown),isRulesDropDown&&setIsRulesDropDown(!isRulesDropDown)}},"..."),__jsx(Collapsible.z,{showIf:isMoreDropDown,className:"w-full"},__jsx("nav",{className:"w-full flex flex-col md:hidden items-start space-y-2 divide-y divide-neutral-600 border-t border-neutral-600 "},__jsx(HeaderLinks,{href:"/subscription/list",className:"w-full pt-2 pb-2  text-text-100 hover:text-brand-500 text-left"},"Subscription")))))),__jsx("main",{className:(0,tw_merge.m)("lg:px-24 xl:px-36 py-4 md:py-8","flex flex-col grow","z-[10]")},props.children),__jsx("footer",{className:(0,tw_merge.m)("border-t","h-16 p-2","text-text-500","flex")},__jsx("div",{className:(0,tw_merge.m)("grow","flex flex-row space-x-2 items-end")},__jsx(next_image.Z,{src:"/logocropped.svg",alt:"Cropped Rucio Donkeyhead",width:48,height:48,className:"block md:hidden"}),__jsx("p",{className:"hidden md:block"},"Rucio WebUI, 2023")),__jsx("div",{className:(0,tw_merge.m)("w-72","grid grid-flow-col-dense grid-cols-2 grid-rows-2")},__jsx("a",{href:"/docs/api",className:"hover:text-brand-500"},"API"),__jsx("a",{href:"/privacy",className:"hover:text-brand-500"},"Privacy"),__jsx("a",{href:"/docs",className:"hover:text-brand-500"},"Docs"),__jsx("a",{href:"/status",className:"hover:text-brand-500"},"Status"))))};Layout.displayName="Layout";try{Layout.displayName="Layout",Layout.__docgenInfo={description:"",displayName:"Layout",props:{LVM:{defaultValue:null,description:"",name:"LVM",required:!0,type:{name:"LayoutViewModel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/Pages/Layout/Layout.tsx#Layout"]={docgenInfo:Layout.__docgenInfo,name:"Layout",path:"src/component-library/Pages/Layout/Layout.tsx#Layout"})}catch(__react_docgen_typescript_loader_error){}var Layout_stories_jsx=react.createElement;const Layout_stories={title:"Components/Pages/Layout",component:Layout};var Template=function Template(args){return Layout_stories_jsx(Layout,args)};Template.displayName="Template";var Layout_stories_Layout=Template.bind({});Layout_stories_Layout.args={children:Layout_stories_jsx("div",{className:"bg-base-warning-500"},"Layout"),LVM:{accountActive:"Galahad",accountsPossible:["Galahad","Percival","Gawain","Gareth"],rucioProjectLink:"rucio.cern.ch",experimentProjectLink:"atlas.cern"}},Layout_stories_Layout.parameters={...Layout_stories_Layout.parameters,docs:{...Layout_stories_Layout.parameters?.docs,source:{originalSource:"args => <L {...args} />",...Layout_stories_Layout.parameters?.docs?.source}}};const __namedExportsOrder=["Layout"]},"./src/component-library/Helpers/Collapsible.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>Collapsible});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),_excluded=["showIf"],_excluded2=["className","children"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Collapsible=function Collapsible(_ref){var showIf=_ref.showIf,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),className=props.className,children=props.children,otherprops=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(props,_excluded2);return __jsx("div",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.m)(showIf?"":"hidden",null!=className?className:""),"data-testid":props.id?props.id:void 0},otherprops),children)};Collapsible.displayName="Collapsible";try{Collapsible.displayName="Collapsible",Collapsible.__docgenInfo={description:"",displayName:"Collapsible",props:{showIf:{defaultValue:null,description:"",name:"showIf",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/Helpers/Collapsible.tsx#Collapsible"]={docgenInfo:Collapsible.__docgenInfo,name:"Collapsible",path:"src/component-library/Helpers/Collapsible.tsx#Collapsible"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/Pages/Layout/AccountDropdown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>AccountDropdown});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),react_icons_hi__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,AccountDropdown=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function AccountDropdown(props,ref){return __jsx("div",{className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.m)("flex flex-col p-2 sm:w-fit","rounded-md border shadow-md",props.isProfileOpen?"visible":"invisible","absolute top-10 right-0","divide-y","bg-neutral-100 dark:bg-neutral-800","z-[100]"),onMouseEnter:function onMouseEnter(e){return e.preventDefault()},ref},__jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.m)("text-text-600 hover:bg-neutral-200 hover:cursor-pointer","dark:text-text-300 dark:hover:bg-neutral-600","flex items-center justify-between py-2 px-1 space-x-4","text-right"),href:"/accountsettings",prefetch:!1},__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_3__.oq2,{className:"text-3xl text-text-600 dark:text-text-100 shrink-0"}),__jsx("span",null,__jsx("span",null,"Settings for "),__jsx("b",{className:"text-text-800 dark:text-text-100"},props.accountActive))),__jsx("div",{className:"flex flex-col"},props.accountsPossible.filter((function(account){return account!==props.accountActive})).map((function(account,index){return __jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.m)("text-text-600 hover:bg-neutral-200 hover:cursor-pointer","dark:text-text-300 dark:hover:bg-neutral-600","flex items-center justify-between py-2 px-1 space-x-4","text-right"),key:index,href:"/api/account/switch",prefetch:!1},__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_3__.ZCd,{className:"text-2xl text-text-900 dark:text-text-100 shrink-0"}),__jsx("span",null,__jsx("span",null,"Switch to "),__jsx("b",{className:"text-text-800 dark:text-text-100"},account)))}))),__jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.m)("text-text-800 hover:bg-base-warning-200 hover:cursor-pointer","dark:text-text-100 dark:hover:bg-base-warning-600","flex items-center justify-between py-2 px-1 space-x-4","text-right","w-64 sm:w-96"),href:"/api/auth/logout",prefetch:!1},__jsx("b",null,"Logout")," ",__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_3__.ApJ,{className:"text-3xl text-text-900 shrink-0"})))}));try{AccountDropdown.displayName="AccountDropdown",AccountDropdown.__docgenInfo={description:"",displayName:"AccountDropdown",props:{isProfileOpen:{defaultValue:null,description:"",name:"isProfileOpen",required:!0,type:{name:"boolean"}},accountActive:{defaultValue:null,description:"",name:"accountActive",required:!0,type:{name:"string"}},accountsPossible:{defaultValue:null,description:"",name:"accountsPossible",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/Pages/Layout/AccountDropdown.tsx#AccountDropdown"]={docgenInfo:AccountDropdown.__docgenInfo,name:"AccountDropdown",path:"src/component-library/Pages/Layout/AccountDropdown.tsx#AccountDropdown"})}catch(__react_docgen_typescript_loader_error){}}}]);